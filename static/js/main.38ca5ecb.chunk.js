(this["webpackJsonpclassroom-manager"]=this["webpackJsonpclassroom-manager"]||[]).push([[0],{114:function(t,e,n){},115:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),s=n(12),c=n.n(s),o=n(161),i=n(162),u=n(86),l=n(22),d=n(82),p=n(8),f=n.n(p),m=n(21),b=n(26),v=n(54),j=n(32),O=n.n(j),h=n(164),x=n(87),w=n.n(x),g=n(70),_=n(156),C=n(72),y=n(79),L=n.n(y),S=n(4),I=function(t){t.type;var e=t.Icon,n=t.alt,r=t.className,a=t.disabled,s=void 0!==a&&a,c=t.isLoading,o=void 0!==c&&c,i=Object(C.a)(t,["type","Icon","alt","className","disabled","isLoading"]);return Object(S.jsx)("button",Object(l.a)(Object(l.a)({},i),{},{disabled:s||o,className:"".concat(L.a.root," ").concat(o?L.a.loading:""," ").concat(r),children:Object(S.jsx)(e,{title:n})}))};function k(){return(k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function N(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var E=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM11 11V5H13V11H19V13H13V19H11V13H5V11H11Z",fill:"current"});function M(t,e){var n=t.title,a=t.titleId,s=N(t,["title","titleId"]);return r.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,E)}var R=r.forwardRef(M),P=(n.p,n(51)),B=n.n(P),V=n(160),F=n(88),H=n.n(F),T=function(t){var e=t.className,n=void 0===e?"":e,r=t.placeholder,a=t.field,s=t.disabled,c=void 0!==s&&s,o=t.inputRef,i=t.maxLength,u=(t.submitForm,Object(C.a)(t,["className","placeholder","field","disabled","inputRef","maxLength","submitForm"]));return Object(S.jsx)(V.a,Object(l.a)(Object(l.a)(Object(l.a)({},a),u),{},{className:"".concat(H.a.wrapper," ").concat(n),variant:"outlined",placeholder:r,disabled:c,inputRef:o,inputProps:{maxLength:i}}))},Z=n(39),A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1200;return new Promise((function(e){return setTimeout(e,t)}))},J=function(t,e){if(t===e)return 0;var n=parseInt(t),r=parseInt(e);return n&&r&&n!==r?n<r?-1:1:t<e?-1:1},D=function(t,e){var n=t.name,r=e.name;return n===r?0:(null===n||void 0===n?void 0:n.toLowerCase())<(null===r||void 0===r?void 0:r.toLowerCase())?-1:1},q=function(t,e){"Enter"===t.key&&e()},z=function(t){var e=t.classrooms,n=t.addClassroom,a=t.intl,s=t.isLoading,c=Object(r.useState)(!1),o=Object(b.a)(c,2),i=o[0],u=o[1],l=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t;i&&(null===(t=l.current)||void 0===t||t.focus())}),[i,l]),Object(S.jsx)("div",{className:B.a.wrapper,children:Object(S.jsx)(Z.c,{initialValues:{name:""},onSubmit:function(){var t=Object(m.a)(f.a.mark((function t(e,r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.resetForm,t.prev=1,t.next=4,n(e);case 4:a(),u(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),children:function(t){var n=t.isSubmitting,r=t.setFieldValue,c=t.submitForm;return Object(S.jsxs)(Z.b,{children:[Object(S.jsxs)("div",{className:B.a.header,children:[Object(S.jsx)(_.a,{tagName:"h1",id:"classroomsContainer.header"}),Object(S.jsx)(I,{type:"button",isLoading:n||s,Icon:R,alt:a.formatMessage({id:"classroomsContainer.alt.add"}),onClick:function(t){t.preventDefault(),u(!0)}})]}),Object(S.jsx)("div",{className:B.a.list,children:e.map((function(t){return Object(S.jsx)(v.b,{to:t,className:B.a.listItem,activeClassName:B.a.activeListItem,children:t},t)}))}),i&&Object(S.jsx)(Z.a,{name:"name",component:T,placeholder:"Add Class",disabled:n||s,onChange:function(t){var e;return r("name",null===(e=t.currentTarget.value)||void 0===e?void 0:e.toUpperCase())},validate:function(t){return(null===t||void 0===t?void 0:t.trim())?void 0:"Value cannot be empty"},inputRef:l,maxLength:50,onKeyDown:function(t){return q(t,c)}})]})}})})},G=Object(g.c)(z),K=n(73),U=n.n(K),W=n(58),Q=n.n(W);function X(){return(X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Y(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var $=r.createElement("path",{d:"M10.9964 22.1136C17.0362 22.1136 21.9283 17.2216 21.9283 11.1818C21.9283 5.14205 17.0362 0.25 10.9964 0.25C4.95668 0.25 0.0646307 5.14205 0.0646307 11.1818C0.0646307 17.2216 4.95668 22.1136 10.9964 22.1136ZM10.9964 20.7955C5.67827 20.7955 1.38281 16.4886 1.38281 11.1818C1.38281 5.86364 5.67827 1.56818 10.9964 1.56818C16.3146 1.56818 20.6101 5.86364 20.6101 11.1818C20.6101 16.4886 16.3146 20.7955 10.9964 20.7955ZM11.7578 16.2727L16.8487 11.1818L11.7578 6.09091L10.8828 6.96591L14.4851 10.5568H5.15554V11.8068H14.4851L10.8828 15.4091L11.7578 16.2727Z",fill:"current"});function tt(t,e){var n=t.title,a=t.titleId,s=Y(t,["title","titleId"]);return r.createElement("svg",X({width:22,height:23,viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,$)}var et=r.forwardRef(tt);n.p;function nt(){return(nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rt(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var at=r.createElement("path",{d:"M10.9964 22.1136C17.0362 22.1136 21.9283 17.2216 21.9283 11.1818C21.9283 5.14205 17.0362 0.25 10.9964 0.25C4.95668 0.25 0.0646307 5.14205 0.0646307 11.1818C0.0646307 17.2216 4.95668 22.1136 10.9964 22.1136ZM10.9964 20.7955C5.67827 20.7955 1.38281 16.4886 1.38281 11.1818C1.38281 5.86364 5.67827 1.56818 10.9964 1.56818C16.3146 1.56818 20.6101 5.86364 20.6101 11.1818C20.6101 16.4886 16.3146 20.7955 10.9964 20.7955ZM7.95099 15.1023L10.9964 12.0682L14.0419 15.1023L14.9283 14.2159L11.8828 11.1818L14.9283 8.14773L14.0419 7.26136L10.9964 10.2955L7.95099 7.26136L7.06463 8.14773L10.1101 11.1818L7.06463 14.2159L7.95099 15.1023Z",fill:"current"});function st(t,e){var n=t.title,a=t.titleId,s=rt(t,["title","titleId"]);return r.createElement("svg",nt({width:22,height:23,viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,at)}var ct=r.forwardRef(st),ot=(n.p,n(97)),it=n(163),ut=n(159),lt=n(157),dt=n(158),pt=n(74),ft=n.n(pt),mt=function(t){var e=t.title,n=t.items,r=t.handleSelect,a=t.anchorElement,s=t.handleClose;return Object(S.jsx)(lt.a,{theme:Object(dt.a)(),children:Object(S.jsxs)(ot.a,{open:!!a,anchorEl:a,onClose:s,classes:{paper:ft.a.root},transformOrigin:{vertical:"top",horizontal:"right"},style:{transform:"translate(25px, 35px)"},autoFocus:!0,children:[Object(S.jsx)("div",{className:ft.a.title,children:e}),n.map((function(t){return Object(S.jsx)(it.a,{classes:{root:ft.a.listItem},onClick:function(){return r(t)},children:Object(S.jsx)(ut.a,{variant:"inherit",noWrap:!0,children:t})},t)}))]})})},bt=function(t){var e=t.id,n=t.name,a=t.handleMoveClick,s=t.handleRemoveClick,c=t.intl,o=t.moveToOptions,i=Object(r.useState)(null),u=Object(b.a)(i,2),l=u[0],d=u[1],p=Object(r.useState)(!1),v=Object(b.a)(p,2),j=v[0],O=v[1],h=Object(r.useState)(!1),x=Object(b.a)(h,2),w=x[0],g=x[1],_=function(){var t=Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,s(e);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(m.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(null),g(!0),t.next=4,a(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:Q.a.wrapper,children:[n,Object(S.jsxs)("div",{className:Q.a.actions,children:[Object(S.jsx)(I,{className:Q.a.actionButton,onClick:function(t){return d(t.currentTarget)},Icon:et,isLoading:w,disabled:j,alt:c.formatMessage({id:"studentsList.alt.moveTo"})}),Object(S.jsx)(I,{className:Q.a.actionButton,onClick:function(){return _()},Icon:ct,isLoading:j,disabled:w,alt:c.formatMessage({id:"studentsList.alt.remove"})}),Object(S.jsx)(mt,{title:"Move to",handleClose:function(){return d(null)},items:o,handleSelect:function(t){return C(t)},anchorElement:l})]})]})},vt=Object(g.c)(bt),jt=function(t){var e=t.fetchClassroom,n=t.removeStudent,a=t.addStudent,s=t.classrooms,c=t.moveStudent,o=t.classroomName,i=Object(r.useRef)(null),u=Object(r.useRef)(!1),d=Object(r.useState)([]),p=Object(b.a)(d,2),v=p[0],j=p[1],O=Object(r.useState)(!1),h=Object(b.a)(O,2),x=h[0],w=h[1],g=Object(r.useState)(!1),C=Object(b.a)(g,2),y=C[0],L=C[1],I=Object(r.useState)([]),k=Object(b.a)(I,2),N=k[0],E=k[1];Object(r.useEffect)((function(){var t=function(){var t=Object(m.a)(f.a.mark((function t(){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),j([]),t.next=4,e(o);case 4:r=t.sent,j(null!==(n=null===r||void 0===r?void 0:r.students)&&void 0!==n?n:[]),L(!r),w(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return u.current=!0,t(),function(){u.current=!1}}),[o]),Object(r.useEffect)((function(){E(s.filter((function(t){return t!==o})))}),[s,o]);var M=function(){var t=Object(m.a)(f.a.mark((function t(e){var r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(o,e);case 2:if((null===(a=t.sent)||void 0===a?void 0:a.name)===o){t.next=5;break}return t.abrupt("return");case 5:u.current&&j(null!==(r=null===a||void 0===a?void 0:a.students)&&void 0!==r?r:[]);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(m.a)(f.a.mark((function t(e,n,r){var a,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e,n,r);case 2:if((null===(s=t.sent)||void 0===s?void 0:s.name)===o){t.next=5;break}return t.abrupt("return");case 5:u.current&&j(null!==(a=null===s||void 0===s?void 0:s.students)&&void 0!==a?a:[]);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:U.a.wrapper,children:[Object(S.jsxs)("h1",{children:[x?"Loading":y?"Please select a classroom":o,Object(S.jsx)("span",{className:U.a.headerSubtext,children:Object(S.jsx)(_.a,{id:"studentsList.students",values:{studentsCount:v.length}})})]}),o&&Object(S.jsx)(Z.c,{initialValues:{studentName:""},onSubmit:function(){var t=Object(m.a)(f.a.mark((function t(e,n){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.resetForm,t.prev=1,t.next=4,a(o,e);case 4:s=t.sent,r(),j(s.students),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}(),children:function(t){var e=t.isSubmitting,n=t.submitForm;return Object(S.jsx)(Z.b,{children:Object(S.jsx)(Z.a,{className:U.a.input,name:"studentName",component:T,placeholder:"Add Student",disabled:e||x,validate:function(t){return(null===t||void 0===t?void 0:t.trim())?void 0:"Value cannot be empty"},inputRef:i,maxLength:250,onKeyDown:function(t){return q(t,n)}})})}}),null===v||void 0===v?void 0:v.map((function(t){return Object(S.jsx)(vt,Object(l.a)({handleMoveClick:function(e){return R(o,e,t.id)},handleRemoveClick:function(t){return M(t)},moveToOptions:N},t),t.id)}))]},o)},Ot=n(14),ht=function(t){var e=Object(Ot.d)().pathname,n=null===e||void 0===e?void 0:e.slice(1);return Object(S.jsx)(jt,Object(l.a)(Object(l.a)({},t),{},{classroomName:n}),n)},xt=function(){var t=Object(r.useState)([]),e=Object(b.a)(t,2),n=e[0],a=e[1],s=Object(r.useState)(!1),c=Object(b.a)(s,2),o=c[0],i=c[1];Object(r.useEffect)((function(){u()}),[]);var u=function(){var t=Object(m.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,A();case 3:return t.next=5,O.a.keys();case 5:e=t.sent,a(e.sort(J)),i(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(m.a)(f.a.mark((function t(e){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,t.next=3,A();case 3:return t.next=5,O.a.getItem(r);case 5:if(!t.sent){t.next=8;break}throw new Error("Classroom already exists");case 8:return t.next=10,O.a.setItem(r,{id:Object(h.a)(),name:r,students:[]});case 10:a([].concat(Object(d.a)(n),[r]).sort(J));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(m.a)(f.a.mark((function t(e,n){var r,a,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name,s=n.id,t.next=3,A(400);case 3:return t.next=5,O.a.getItem(e);case 5:return c=t.sent,t.abrupt("return",O.a.setItem(e,Object(l.a)(Object(l.a)({},c),{},{students:[].concat(Object(d.a)(null!==(r=null===c||void 0===c?void 0:c.students)&&void 0!==r?r:[]),[{id:s,name:a}]).sort(D)})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),x=function(){var t=Object(m.a)(f.a.mark((function t(e,n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.studentName,t.abrupt("return",j(e,{name:r,id:Object(h.a)()}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=Object(m.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(400);case 2:return t.abrupt("return",O.a.getItem(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(m.a)(f.a.mark((function t(e,n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return t.next=4,O.a.getItem(e);case 4:return r=t.sent,t.abrupt("return",O.a.setItem(e,Object(l.a)(Object(l.a)({},r),{},{students:r.students.filter((function(t){return t.id!==n}))})));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),C=function(){var t=Object(m.a)(f.a.mark((function t(e,n,r){var a,s,c,o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return t.next=4,O.a.getItem(e);case 4:if(a=t.sent,s=a.students.find((function(t){return t.id===r}))){t.next=8;break}return t.abrupt("return",a);case 8:return t.next=10,Promise.all([_(e,r),j(n,s)]);case 10:return c=t.sent,o=Object(b.a)(c,1),i=o[0],t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();return Object(S.jsx)(v.a,{basename:"/classroom-manager",children:Object(S.jsxs)("div",{className:w.a.wrapper,children:[Object(S.jsx)(G,{isLoading:o,classrooms:n,addClassroom:function(t){return p(t)}}),Object(S.jsx)(ht,{addStudent:x,fetchClassroom:g,removeStudent:_,moveStudent:C,classrooms:n})]})})},wt=n(96),gt=n.n(wt),_t=function(){return Object(S.jsx)("div",{className:gt.a.wrapper,children:Object(S.jsx)(xt,{})})};n(114);c.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(i.a,{locale:"en",messages:u.translations,children:Object(S.jsx)(o.b,{injectFirst:!0,children:Object(S.jsx)(_t,{})})})}),document.getElementById("root"))},51:function(t,e,n){t.exports={wrapper:"ClassroomsList_wrapper__I5qcD",header:"ClassroomsList_header__2Pu58",list:"ClassroomsList_list__3GLBo",listItem:"ClassroomsList_listItem__l1-NL",activeListItem:"ClassroomsList_activeListItem__2DxMp",buttonAdd:"ClassroomsList_buttonAdd__GRz8S"}},58:function(t,e,n){t.exports={wrapper:"StudentsListItem_wrapper__2Cmwj",actions:"StudentsListItem_actions__1DU0a",actionButton:"StudentsListItem_actionButton__1vMGX"}},73:function(t,e,n){t.exports={wrapper:"StudentsList_wrapper__2Lr-W",headerSubtext:"StudentsList_headerSubtext__1Ojp0",input:"StudentsList_input__u1z8t"}},74:function(t,e,n){t.exports={root:"SelectMenu_root__2QJPn",title:"SelectMenu_title__EH0bi",listItem:"SelectMenu_listItem__1i7qy"}},79:function(t,e,n){t.exports={root:"Button_root__3ros1",loading:"Button_loading__2nORI",spinner:"Button_spinner__1Sq8N"}},86:function(t){t.exports=JSON.parse('{"translations":{"classroomsContainer.header":"Classes","classroomsContainer.placeholder.addClass":"Add Class","classroomsContainer.alt.add":"Add","studentsList.students":"{studentsCount} {studentsCount, plural, one {student} other {students}}","studentsList.moveTo":"Move to","studentsList.alt.moveTo":"Move to","studentsList.alt.remove":"Remove"}}')},87:function(t,e,n){t.exports={wrapper:"ClassroomsContainer_wrapper__2JJ07"}},88:function(t,e,n){t.exports={wrapper:"InputField_wrapper__FSV9o"}},96:function(t,e,n){t.exports={wrapper:"App_wrapper__1Jn2B"}}},[[115,1,2]]]);
//# sourceMappingURL=main.38ca5ecb.chunk.js.map
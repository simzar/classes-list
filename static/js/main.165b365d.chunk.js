(this["webpackJsonpclassroom-manager"]=this["webpackJsonpclassroom-manager"]||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(12),c=n.n(s),o=n(157),i=n(158),u=n(84),l=n(21),d=n(80),p=n(8),f=n.n(p),b=n(20),m=n(25),v=n(53),j=n(31),O=n.n(j),h=n(160),x=n(85),w=n.n(x),g=n(69),C=n(153),y=n(71),L=n(77),_=n.n(L),S=n(4),I=function(e){e.type;var t=e.Icon,n=e.alt,r=e.className,a=e.disabled,s=void 0!==a&&a,c=e.isLoading,o=void 0!==c&&c,i=Object(y.a)(e,["type","Icon","alt","className","disabled","isLoading"]);return Object(S.jsx)("button",Object(l.a)(Object(l.a)({},i),{},{disabled:s||o,className:"".concat(_.a.root," ").concat(o?_.a.loading:""," ").concat(r),children:Object(S.jsx)(t,{title:n})}))};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var E=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM11 11V5H13V11H19V13H13V19H11V13H5V11H11Z",fill:"current"});function M(e,t){var n=e.title,a=e.titleId,s=N(e,["title","titleId"]);return r.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,E)}var R=r.forwardRef(M),P=(n.p,n(50)),B=n.n(P),V=n(156),F=n(86),H=n.n(F),T=function(e){var t=e.className,n=void 0===t?"":t,r=e.placeholder,a=e.field,s=e.disabled,c=void 0!==s&&s,o=e.inputRef,i=e.maxLength,u=(e.submitForm,Object(y.a)(e,["className","placeholder","field","disabled","inputRef","maxLength","submitForm"]));return Object(S.jsx)(V.a,Object(l.a)(Object(l.a)(Object(l.a)({},a),u),{},{className:"".concat(H.a.wrapper," ").concat(n),variant:"outlined",placeholder:r,disabled:c,inputRef:o,inputProps:{maxLength:i}}))},Z=n(38),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1200;return new Promise((function(t){return setTimeout(t,e)}))},D=function(e,t){if(e===t)return 0;var n=parseInt(e),r=parseInt(t);return n&&r&&n!==r?n<r?-1:1:e<t?-1:1},J=function(e,t){var n=e.name,r=t.name;return n===r?0:(null===n||void 0===n?void 0:n.toLowerCase())<(null===r||void 0===r?void 0:r.toLowerCase())?-1:1},G=function(e,t){"Enter"===e.key&&t()},q=function(e){var t=e.classrooms,n=e.addClassroom,a=e.intl,s=e.isLoading,c=Object(r.useState)(!1),o=Object(m.a)(c,2),i=o[0],u=o[1],l=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;i&&(null===(e=l.current)||void 0===e||e.focus())}),[i,l]),Object(S.jsx)("div",{className:B.a.wrapper,children:Object(S.jsx)(Z.c,{initialValues:{name:""},onSubmit:function(){var e=Object(b.a)(f.a.mark((function e(t,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.resetForm,e.prev=1,e.next=4,n(t);case 4:a(),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.isSubmitting,r=e.setFieldValue,c=e.submitForm;return Object(S.jsxs)(Z.b,{children:[Object(S.jsxs)("div",{className:B.a.header,children:[Object(S.jsx)(C.a,{tagName:"h1",id:"classroomsContainer.header"}),Object(S.jsx)(I,{type:"button",isLoading:n||s,Icon:R,alt:a.formatMessage({id:"classroomsContainer.alt.add"}),onClick:function(e){e.preventDefault(),u(!0)}})]}),Object(S.jsx)("div",{className:B.a.list,children:t.map((function(e){return Object(S.jsx)(v.b,{to:e,className:B.a.listItem,activeClassName:B.a.activeListItem,children:e},e)}))}),i&&Object(S.jsx)(Z.a,{name:"name",component:T,placeholder:"Add Class",disabled:n||s,onChange:function(e){var t;return r("name",null===(t=e.currentTarget.value)||void 0===t?void 0:t.toUpperCase())},validate:function(e){return(null===e||void 0===e?void 0:e.trim())?void 0:"Value cannot be empty"},inputRef:l,maxLength:50,onKeyDown:function(e){return G(e,c)}})]})}})})},z=Object(g.c)(q),K=n(72),U=n.n(K),W=n(57),X=n.n(W);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $=r.createElement("path",{d:"M10.9964 22.1136C17.0362 22.1136 21.9283 17.2216 21.9283 11.1818C21.9283 5.14205 17.0362 0.25 10.9964 0.25C4.95668 0.25 0.0646307 5.14205 0.0646307 11.1818C0.0646307 17.2216 4.95668 22.1136 10.9964 22.1136ZM10.9964 20.7955C5.67827 20.7955 1.38281 16.4886 1.38281 11.1818C1.38281 5.86364 5.67827 1.56818 10.9964 1.56818C16.3146 1.56818 20.6101 5.86364 20.6101 11.1818C20.6101 16.4886 16.3146 20.7955 10.9964 20.7955ZM11.7578 16.2727L16.8487 11.1818L11.7578 6.09091L10.8828 6.96591L14.4851 10.5568H5.15554V11.8068H14.4851L10.8828 15.4091L11.7578 16.2727Z",fill:"current"});function ee(e,t){var n=e.title,a=e.titleId,s=Y(e,["title","titleId"]);return r.createElement("svg",Q({width:22,height:23,viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,$)}var te=r.forwardRef(ee);n.p;function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ae=r.createElement("path",{d:"M10.9964 22.1136C17.0362 22.1136 21.9283 17.2216 21.9283 11.1818C21.9283 5.14205 17.0362 0.25 10.9964 0.25C4.95668 0.25 0.0646307 5.14205 0.0646307 11.1818C0.0646307 17.2216 4.95668 22.1136 10.9964 22.1136ZM10.9964 20.7955C5.67827 20.7955 1.38281 16.4886 1.38281 11.1818C1.38281 5.86364 5.67827 1.56818 10.9964 1.56818C16.3146 1.56818 20.6101 5.86364 20.6101 11.1818C20.6101 16.4886 16.3146 20.7955 10.9964 20.7955ZM7.95099 15.1023L10.9964 12.0682L14.0419 15.1023L14.9283 14.2159L11.8828 11.1818L14.9283 8.14773L14.0419 7.26136L10.9964 10.2955L7.95099 7.26136L7.06463 8.14773L10.1101 11.1818L7.06463 14.2159L7.95099 15.1023Z",fill:"current"});function se(e,t){var n=e.title,a=e.titleId,s=re(e,["title","titleId"]);return r.createElement("svg",ne({width:22,height:23,viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,ae)}var ce=r.forwardRef(se),oe=(n.p,n(95)),ie=n(159),ue=n(154),le=n(155),de=function(e){var t=e.title,n=e.items,r=e.handleSelect,a=e.anchorElement,s=e.handleClose;return Object(S.jsx)(ue.a,{theme:Object(le.a)(),children:Object(S.jsxs)(oe.a,{open:!!a,anchorEl:a,onClose:s,children:[t,n.map((function(e){return Object(S.jsx)(ie.a,{onClick:function(){return r(e)},children:e},e)}))]})})},pe=function(e){var t=e.id,n=e.name,a=e.handleMoveClick,s=e.handleRemoveClick,c=e.intl,o=e.moveToOptions,i=Object(r.useState)(null),u=Object(m.a)(i,2),l=u[0],d=u[1],p=Object(r.useState)(!1),v=Object(m.a)(p,2),j=v[0],O=v[1],h=Object(r.useState)(!1),x=Object(m.a)(h,2),w=x[0],g=x[1],C=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,s(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),g(!0),e.next=4,a(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:X.a.wrapper,children:[n,Object(S.jsxs)("div",{className:X.a.actions,children:[Object(S.jsx)(I,{className:X.a.actionButton,onClick:function(e){return d(e.currentTarget)},Icon:te,isLoading:w,disabled:j,alt:c.formatMessage({id:"studentsList.alt.moveTo"})}),Object(S.jsx)(I,{className:X.a.actionButton,onClick:function(){return C()},Icon:ce,isLoading:j,disabled:w,alt:c.formatMessage({id:"studentsList.alt.remove"})}),Object(S.jsx)(de,{title:"Move to",handleClose:function(){return d(null)},items:o,handleSelect:function(e){return y(e)},anchorElement:l})]})]})},fe=Object(g.c)(pe),be=function(e){var t=e.fetchClassroom,n=e.removeStudent,a=e.addStudent,s=e.classrooms,c=e.moveStudent,o=e.classroomName,i=Object(r.useRef)(null),u=Object(r.useRef)(!1),d=Object(r.useState)([]),p=Object(m.a)(d,2),v=p[0],j=p[1],O=Object(r.useState)(!1),h=Object(m.a)(O,2),x=h[0],w=h[1],g=Object(r.useState)(!1),y=Object(m.a)(g,2),L=y[0],_=y[1],I=Object(r.useState)([]),k=Object(m.a)(I,2),N=k[0],E=k[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(f.a.mark((function e(){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),j([]),e.next=4,t(o);case 4:r=e.sent,j(null!==(n=null===r||void 0===r?void 0:r.students)&&void 0!==n?n:[]),_(!r),w(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.current=!0,e(),function(){u.current=!1}}),[o]),Object(r.useEffect)((function(){E(s.filter((function(e){return e!==o})))}),[s,o]);var M=function(){var e=Object(b.a)(f.a.mark((function e(t){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o,t);case 2:if((null===(a=e.sent)||void 0===a?void 0:a.name)===o){e.next=5;break}return e.abrupt("return");case 5:u.current&&j(null!==(r=null===a||void 0===a?void 0:a.students)&&void 0!==r?r:[]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(f.a.mark((function e(t,n,r){var a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,n,r);case 2:if((null===(s=e.sent)||void 0===s?void 0:s.name)===o){e.next=5;break}return e.abrupt("return");case 5:u.current&&j(null!==(a=null===s||void 0===s?void 0:s.students)&&void 0!==a?a:[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:U.a.wrapper,children:[Object(S.jsxs)("h1",{children:[x?"Loading":L?"Please select a classroom":o,Object(S.jsx)("span",{className:U.a.headerSubtext,children:Object(S.jsx)(C.a,{id:"studentsList.students",values:{studentsCount:v.length}})})]}),o&&Object(S.jsx)(Z.c,{initialValues:{studentName:""},onSubmit:function(){var e=Object(b.a)(f.a.mark((function e(t,n){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.resetForm,e.prev=1,e.next=4,a(o,t);case 4:s=e.sent,r(),j(s.students),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.submitForm;return Object(S.jsx)(Z.b,{children:Object(S.jsx)(Z.a,{className:U.a.input,name:"studentName",component:T,placeholder:"Add Student",disabled:t||x,validate:function(e){return(null===e||void 0===e?void 0:e.trim())?void 0:"Value cannot be empty"},inputRef:i,maxLength:250,onKeyDown:function(e){return G(e,n)}})})}}),null===v||void 0===v?void 0:v.map((function(e){return Object(S.jsx)(fe,Object(l.a)({handleMoveClick:function(t){return R(o,t,e.id)},handleRemoveClick:function(e){return M(e)},moveToOptions:N},e),e.id)}))]},o)},me=n(14),ve=function(e){var t=Object(me.d)().pathname,n=null===t||void 0===t?void 0:t.slice(1);return Object(S.jsx)(be,Object(l.a)(Object(l.a)({},e),{},{classroomName:n}),n)},je=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),c=Object(m.a)(s,2),o=c[0],i=c[1];Object(r.useEffect)((function(){u()}),[]);var u=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,A();case 3:return e.next=5,O.a.keys();case 5:t=e.sent,a(t.sort(D)),i(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,e.next=3,A();case 3:return e.next=5,O.a.getItem(r);case 5:if(!e.sent){e.next=8;break}throw new Error("Classroom already exists");case 8:return e.next=10,O.a.setItem(r,{id:Object(h.a)(),name:r,students:[]});case 10:a([].concat(Object(d.a)(n),[r]).sort(D));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(f.a.mark((function e(t,n){var r,a,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,s=n.id,e.next=3,A(400);case 3:return e.next=5,O.a.getItem(t);case 5:return c=e.sent,e.abrupt("return",O.a.setItem(t,Object(l.a)(Object(l.a)({},c),{},{students:[].concat(Object(d.a)(null!==(r=null===c||void 0===c?void 0:c.students)&&void 0!==r?r:[]),[{id:s,name:a}]).sort(J)})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.studentName,e.abrupt("return",j(t,{name:r,id:Object(h.a)()}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(400);case 2:return e.abrupt("return",O.a.getItem(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return e.next=4,O.a.getItem(t);case 4:return r=e.sent,e.abrupt("return",O.a.setItem(t,Object(l.a)(Object(l.a)({},r),{},{students:r.students.filter((function(e){return e.id!==n}))})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(f.a.mark((function e(t,n,r){var a,s,c,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return e.next=4,O.a.getItem(t);case 4:if(a=e.sent,s=a.students.find((function(e){return e.id===r}))){e.next=8;break}return e.abrupt("return",a);case 8:return e.next=10,Promise.all([C(t,r),j(n,s)]);case 10:return c=e.sent,o=Object(m.a)(c,1),i=o[0],e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(S.jsx)(v.a,{basename:"/classroom-manager",children:Object(S.jsxs)("div",{className:w.a.wrapper,children:[Object(S.jsx)(z,{isLoading:o,classrooms:n,addClassroom:function(e){return p(e)}}),Object(S.jsx)(ve,{addStudent:x,fetchClassroom:g,removeStudent:C,moveStudent:y,classrooms:n})]})})},Oe=n(94),he=n.n(Oe),xe=function(){return Object(S.jsx)("div",{className:he.a.wrapper,children:Object(S.jsx)(je,{})})};n(112);c.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(i.a,{locale:"en",messages:u.translations,children:Object(S.jsx)(o.b,{injectFirst:!0,children:Object(S.jsx)(xe,{})})})}),document.getElementById("root"))},50:function(e,t,n){e.exports={wrapper:"ClassroomsList_wrapper__I5qcD",header:"ClassroomsList_header__2Pu58",list:"ClassroomsList_list__3GLBo",listItem:"ClassroomsList_listItem__l1-NL",activeListItem:"ClassroomsList_activeListItem__2DxMp",buttonAdd:"ClassroomsList_buttonAdd__GRz8S"}},57:function(e,t,n){e.exports={wrapper:"StudentsListItem_wrapper__2Cmwj",actions:"StudentsListItem_actions__1DU0a",actionButton:"StudentsListItem_actionButton__1vMGX"}},72:function(e,t,n){e.exports={wrapper:"StudentsList_wrapper__2Lr-W",headerSubtext:"StudentsList_headerSubtext__1Ojp0",input:"StudentsList_input__u1z8t"}},77:function(e,t,n){e.exports={root:"Button_root__3ros1",loading:"Button_loading__2nORI",spinner:"Button_spinner__1Sq8N"}},84:function(e){e.exports=JSON.parse('{"translations":{"classroomsContainer.header":"Classes","classroomsContainer.placeholder.addClass":"Add Class","classroomsContainer.alt.add":"Add","studentsList.students":"{studentsCount} {studentsCount, plural, one {student} other {students}}","studentsList.moveTo":"Move to","studentsList.alt.moveTo":"Move to","studentsList.alt.remove":"Remove"}}')},85:function(e,t,n){e.exports={wrapper:"ClassroomsContainer_wrapper__2JJ07"}},86:function(e,t,n){e.exports={wrapper:"InputField_wrapper__FSV9o"}},94:function(e,t,n){e.exports={wrapper:"App_wrapper__1Jn2B"}}},[[113,1,2]]]);
//# sourceMappingURL=main.165b365d.chunk.js.map
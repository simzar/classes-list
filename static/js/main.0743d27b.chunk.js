(this["webpackJsonpclassroom-manager"]=this["webpackJsonpclassroom-manager"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(12),c=n.n(s),o=n(161),i=n(162),u=n(86),l=n(22),d=n(82),p=n(8),f=n.n(p),m=n(21),b=n(26),v=n(54),j=n(32),O=n.n(j),h=n(164),x=n(87),w=n.n(x),g=n(71),_=n(156),C=n(73),y=n(79),L=n.n(y),S=n(3),I=function(e){e.type;var t=e.Icon,n=e.alt,r=e.className,a=e.disabled,s=void 0!==a&&a,c=e.isLoading,o=void 0!==c&&c,i=Object(C.a)(e,["type","Icon","alt","className","disabled","isLoading"]);return Object(S.jsx)("button",Object(l.a)(Object(l.a)({},i),{},{disabled:s||o,className:"".concat(L.a.root," ").concat(o?L.a.loading:""," ").concat(r),children:Object(S.jsx)(t,{title:n})}))};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var E=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM11 11V5H13V11H19V13H13V19H11V13H5V11H11Z",fill:"current"});function M(e,t){var n=e.title,a=e.titleId,s=N(e,["title","titleId"]);return r.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,E)}var R=r.forwardRef(M),P=(n.p,n(51)),B=n.n(P),V=n(160),F=n(88),T=n.n(F),H=function(e){var t=e.className,n=void 0===t?"":t,r=e.placeholder,a=e.field,s=e.disabled,c=void 0!==s&&s,o=e.inputRef,i=e.maxLength,u=(e.submitForm,e.form.errors),d=Object(C.a)(e,["className","placeholder","field","disabled","inputRef","maxLength","submitForm","form"]);return Object(S.jsx)(V.a,Object(l.a)(Object(l.a)(Object(l.a)({},a),d),{},{className:"".concat(T.a.wrapper," ").concat(n),variant:"outlined",placeholder:r,disabled:c,inputRef:o,inputProps:{maxLength:i},error:!!u[a.name],helperText:u[a.name]}))},Z=n(39),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1200;return new Promise((function(t){return setTimeout(t,e)}))},A=function(e,t){if(e===t)return 0;var n=parseInt(e),r=parseInt(t);return n&&r&&n!==r?n<r?-1:1:e<t?-1:1},D=function(e,t){var n=e.name,r=t.name;return n===r?0:(null===n||void 0===n?void 0:n.toLowerCase())<(null===r||void 0===r?void 0:r.toLowerCase())?-1:1},q=function(e,t){"Enter"===e.key&&t()},z=function(e){var t=e.classrooms,n=e.addClassroom,a=e.intl,s=e.isLoading,c=Object(r.useState)(!1),o=Object(b.a)(c,2),i=o[0],u=o[1],l=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;i&&(null===(e=l.current)||void 0===e||e.focus())}),[i,l]),Object(S.jsx)("div",{className:B.a.wrapper,children:Object(S.jsx)(Z.c,{initialValues:{name:""},onSubmit:function(){var e=Object(m.a)(f.a.mark((function e(t,r){var a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.resetForm,s=r.setErrors,e.prev=1,e.next=4,n(t);case 4:a(),u(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),s({name:e.t0.message}),console.error(e.t0),setTimeout((function(){var e;return null===(e=l.current)||void 0===e?void 0:e.focus()}));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.isSubmitting,r=e.setFieldValue,c=e.submitForm;return Object(S.jsxs)(Z.b,{children:[Object(S.jsxs)("div",{className:B.a.header,children:[Object(S.jsx)(_.a,{tagName:"h1",id:"classroomsContainer.header"}),Object(S.jsx)(I,{type:"button",isLoading:n||s,Icon:R,alt:a.formatMessage({id:"classroomsContainer.alt.add"}),onClick:function(e){e.preventDefault(),u(!0)}})]}),Object(S.jsx)("div",{className:B.a.list,children:t.map((function(e){return Object(S.jsx)(v.b,{to:e,className:B.a.listItem,activeClassName:B.a.activeListItem,children:e},e)}))}),i&&Object(S.jsx)(Z.a,{name:"name",component:H,placeholder:"Add Class",disabled:n||s,onChange:function(e){var t;return r("name",null===(t=e.currentTarget.value)||void 0===t?void 0:t.toUpperCase())},inputRef:l,maxLength:50,onKeyDown:function(e){return q(e,c)}})]})}})})},G=Object(g.c)(z),K=n(58),U=n.n(K),W=n(59),Q=n.n(W);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $=r.createElement("path",{d:"M10.9964 22.1136C17.0362 22.1136 21.9283 17.2216 21.9283 11.1818C21.9283 5.14205 17.0362 0.25 10.9964 0.25C4.95668 0.25 0.0646307 5.14205 0.0646307 11.1818C0.0646307 17.2216 4.95668 22.1136 10.9964 22.1136ZM10.9964 20.7955C5.67827 20.7955 1.38281 16.4886 1.38281 11.1818C1.38281 5.86364 5.67827 1.56818 10.9964 1.56818C16.3146 1.56818 20.6101 5.86364 20.6101 11.1818C20.6101 16.4886 16.3146 20.7955 10.9964 20.7955ZM11.7578 16.2727L16.8487 11.1818L11.7578 6.09091L10.8828 6.96591L14.4851 10.5568H5.15554V11.8068H14.4851L10.8828 15.4091L11.7578 16.2727Z",fill:"current"});function ee(e,t){var n=e.title,a=e.titleId,s=Y(e,["title","titleId"]);return r.createElement("svg",X({width:22,height:23,viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,$)}var te=r.forwardRef(ee);n.p;function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ae=r.createElement("path",{d:"M10.9964 22.1136C17.0362 22.1136 21.9283 17.2216 21.9283 11.1818C21.9283 5.14205 17.0362 0.25 10.9964 0.25C4.95668 0.25 0.0646307 5.14205 0.0646307 11.1818C0.0646307 17.2216 4.95668 22.1136 10.9964 22.1136ZM10.9964 20.7955C5.67827 20.7955 1.38281 16.4886 1.38281 11.1818C1.38281 5.86364 5.67827 1.56818 10.9964 1.56818C16.3146 1.56818 20.6101 5.86364 20.6101 11.1818C20.6101 16.4886 16.3146 20.7955 10.9964 20.7955ZM7.95099 15.1023L10.9964 12.0682L14.0419 15.1023L14.9283 14.2159L11.8828 11.1818L14.9283 8.14773L14.0419 7.26136L10.9964 10.2955L7.95099 7.26136L7.06463 8.14773L10.1101 11.1818L7.06463 14.2159L7.95099 15.1023Z",fill:"current"});function se(e,t){var n=e.title,a=e.titleId,s=re(e,["title","titleId"]);return r.createElement("svg",ne({width:22,height:23,viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,ae)}var ce=r.forwardRef(se),oe=(n.p,n(97)),ie=n(163),ue=n(159),le=n(157),de=n(158),pe=n(74),fe=n.n(pe),me=function(e){var t=e.title,n=e.items,r=e.handleSelect,a=e.anchorElement,s=e.handleClose;return Object(S.jsx)(le.a,{theme:Object(de.a)(),children:Object(S.jsxs)(oe.a,{open:!!a,anchorEl:a,onClose:s,classes:{paper:fe.a.root},transformOrigin:{vertical:"top",horizontal:"right"},style:{transform:"translate(25px, 35px)"},autoFocus:!0,children:[Object(S.jsx)("div",{className:fe.a.title,children:t}),n.map((function(e){return Object(S.jsx)(ie.a,{classes:{root:fe.a.listItem},onClick:function(){return r(e)},children:Object(S.jsx)(ue.a,{variant:"inherit",noWrap:!0,children:e})},e)}))]})})},be=function(e){var t=e.id,n=e.name,a=e.handleMoveClick,s=e.handleRemoveClick,c=e.intl,o=e.moveToOptions,i=Object(r.useState)(null),u=Object(b.a)(i,2),l=u[0],d=u[1],p=Object(r.useState)(!1),v=Object(b.a)(p,2),j=v[0],O=v[1],h=Object(r.useState)(!1),x=Object(b.a)(h,2),w=x[0],g=x[1],_=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,s(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),g(!0),e.next=4,a(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:Q.a.wrapper,children:[n,Object(S.jsxs)("div",{className:Q.a.actions,children:[Object(S.jsx)(I,{className:Q.a.actionButton,onClick:function(e){return d(e.currentTarget)},Icon:te,isLoading:w,disabled:j,alt:c.formatMessage({id:"studentsList.alt.moveTo"})}),Object(S.jsx)(I,{className:Q.a.actionButton,onClick:function(){return _()},Icon:ce,isLoading:j,disabled:w,alt:c.formatMessage({id:"studentsList.alt.remove"})}),Object(S.jsx)(me,{title:"Move to",handleClose:function(){return d(null)},items:o,handleSelect:function(e){return C(e)},anchorElement:l})]})]})},ve=Object(g.c)(be),je=function(e){var t=e.fetchClassroom,n=e.removeStudent,a=e.addStudent,s=e.classrooms,c=e.moveStudent,o=e.classroomName,i=Object(r.useRef)(null),u=Object(r.useRef)(!1),d=Object(r.useState)([]),p=Object(b.a)(d,2),v=p[0],j=p[1],O=Object(r.useState)(!1),h=Object(b.a)(O,2),x=h[0],w=h[1],g=Object(r.useState)(!1),C=Object(b.a)(g,2),y=C[0],L=C[1],I=Object(r.useState)([]),k=Object(b.a)(I,2),N=k[0],E=k[1];Object(r.useEffect)((function(){var e=function(){var e=Object(m.a)(f.a.mark((function e(){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),j([]),e.next=4,t(o);case 4:r=e.sent,j(null!==(n=null===r||void 0===r?void 0:r.students)&&void 0!==n?n:[]),L(!r),w(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.current=!0,e(),function(){u.current=!1}}),[o]),Object(r.useEffect)((function(){E(s.filter((function(e){return e!==o})))}),[s,o]);var M=function(){var e=Object(m.a)(f.a.mark((function e(t){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o,t);case 2:if((null===(a=e.sent)||void 0===a?void 0:a.name)===o){e.next=5;break}return e.abrupt("return");case 5:u.current&&j(null!==(r=null===a||void 0===a?void 0:a.students)&&void 0!==r?r:[]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r){var a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,n,r);case 2:if((null===(s=e.sent)||void 0===s?void 0:s.name)===o){e.next=5;break}return e.abrupt("return");case 5:u.current&&j(null!==(a=null===s||void 0===s?void 0:s.students)&&void 0!==a?a:[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:U.a.wrapper,children:[Object(S.jsxs)("h1",{children:[x?"Loading":y?"Please select a classroom":o,Object(S.jsx)("span",{className:U.a.headerSubtext,children:Object(S.jsx)(_.a,{id:"studentsList.students",values:{studentsCount:v.length}})})]}),o&&Object(S.jsx)(Z.c,{initialValues:{studentName:""},onSubmit:function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r,s,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.resetForm,s=n.setErrors,e.prev=1,e.next=4,a(o,t);case 4:u=e.sent,r(),j(u.students),null===(c=i.current)||void 0===c||c.focus(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),s({studentName:e.t0.message}),setTimeout((function(){var e;return null===(e=i.current)||void 0===e?void 0:e.focus()}));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.submitForm;return Object(S.jsx)(Z.b,{children:Object(S.jsx)(Z.a,{className:U.a.input,name:"studentName",component:H,placeholder:"Add Student",disabled:t||x,inputRef:i,maxLength:250,onKeyDown:function(e){return q(e,n)}})})}}),Object(S.jsx)("div",{className:U.a.list,children:null===v||void 0===v?void 0:v.map((function(e){return Object(S.jsx)(ve,Object(l.a)({handleMoveClick:function(t){return R(o,t,e.id)},handleRemoveClick:function(e){return M(e)},moveToOptions:N},e),e.id)}))})]},o)},Oe=n(14),he=function(e){var t=Object(Oe.d)().pathname,n=null===t||void 0===t?void 0:t.slice(1);return Object(S.jsx)(je,Object(l.a)(Object(l.a)({},e),{},{classroomName:n}),n)},xe=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),c=Object(b.a)(s,2),o=c[0],i=c[1];Object(r.useEffect)((function(){u()}),[]);var u=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,J();case 3:return e.next=5,O.a.keys();case 5:t=e.sent,a(t.sort(A)),i(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(m.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,e.next=3,J();case 3:if(null===r||void 0===r?void 0:r.trim()){e.next=5;break}throw new Error("Value cannot be empty");case 5:return e.next=7,O.a.getItem(r);case 7:if(!e.sent){e.next=10;break}throw new Error("Classroom already exists");case 10:return e.next=12,O.a.setItem(r,{id:Object(h.a)(),name:r,students:[]});case 12:a([].concat(Object(d.a)(n),[r]).sort(A));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r,a,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,s=n.id,e.next=3,J(400);case 3:if(null===a||void 0===a?void 0:a.trim()){e.next=5;break}throw new Error("Value cannot be empty");case 5:return e.next=7,O.a.getItem(t);case 7:return c=e.sent,e.abrupt("return",O.a.setItem(t,Object(l.a)(Object(l.a)({},c),{},{students:[].concat(Object(d.a)(null!==(r=null===c||void 0===c?void 0:c.students)&&void 0!==r?r:[]),[{id:s,name:a}]).sort(D)})));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.studentName,e.abrupt("return",j(t,{name:r,id:Object(h.a)()}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(400);case 2:return e.abrupt("return",O.a.getItem(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.next=4,O.a.getItem(t);case 4:return r=e.sent,e.abrupt("return",O.a.setItem(t,Object(l.a)(Object(l.a)({},r),{},{students:r.students.filter((function(e){return e.id!==n}))})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r){var a,s,c,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.next=4,O.a.getItem(t);case 4:if(a=e.sent,s=a.students.find((function(e){return e.id===r}))){e.next=8;break}return e.abrupt("return",a);case 8:return e.next=10,Promise.all([_(t,r),j(n,s)]);case 10:return c=e.sent,o=Object(b.a)(c,1),i=o[0],e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(S.jsx)(v.a,{basename:"/classroom-manager",children:Object(S.jsxs)("div",{className:w.a.wrapper,children:[Object(S.jsx)(G,{isLoading:o,classrooms:n,addClassroom:function(e){return p(e)}}),Object(S.jsx)(he,{addStudent:x,fetchClassroom:g,removeStudent:_,moveStudent:C,classrooms:n})]})})},we=n(96),ge=n.n(we),_e=function(){return Object(S.jsx)("div",{className:ge.a.wrapper,children:Object(S.jsx)(xe,{})})};n(114);c.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(i.a,{locale:"en",messages:u.translations,children:Object(S.jsx)(o.b,{injectFirst:!0,children:Object(S.jsx)(_e,{})})})}),document.getElementById("root"))},51:function(e,t,n){e.exports={wrapper:"ClassroomsList_wrapper__I5qcD",header:"ClassroomsList_header__2Pu58",list:"ClassroomsList_list__3GLBo",listItem:"ClassroomsList_listItem__l1-NL",activeListItem:"ClassroomsList_activeListItem__2DxMp",buttonAdd:"ClassroomsList_buttonAdd__GRz8S"}},58:function(e,t,n){e.exports={wrapper:"StudentsList_wrapper__2Lr-W",headerSubtext:"StudentsList_headerSubtext__1Ojp0",input:"StudentsList_input__u1z8t",list:"StudentsList_list__27JZp"}},59:function(e,t,n){e.exports={wrapper:"StudentsListItem_wrapper__2Cmwj",actions:"StudentsListItem_actions__1DU0a",actionButton:"StudentsListItem_actionButton__1vMGX"}},74:function(e,t,n){e.exports={root:"SelectMenu_root__2QJPn",title:"SelectMenu_title__EH0bi",listItem:"SelectMenu_listItem__1i7qy"}},79:function(e,t,n){e.exports={root:"Button_root__3ros1",loading:"Button_loading__2nORI",spinner:"Button_spinner__1Sq8N"}},86:function(e){e.exports=JSON.parse('{"translations":{"classroomsContainer.header":"Classes","classroomsContainer.placeholder.addClass":"Add Class","classroomsContainer.alt.add":"Add","studentsList.students":"{studentsCount} {studentsCount, plural, one {student} other {students}}","studentsList.moveTo":"Move to","studentsList.alt.moveTo":"Move to","studentsList.alt.remove":"Remove"}}')},87:function(e,t,n){e.exports={wrapper:"ClassroomsContainer_wrapper__2JJ07"}},88:function(e,t,n){e.exports={wrapper:"InputField_wrapper__FSV9o"}},96:function(e,t,n){e.exports={wrapper:"App_wrapper__1Jn2B"}}},[[115,1,2]]]);
//# sourceMappingURL=main.0743d27b.chunk.js.map